{"version":3,"sources":["components/CreateUser.js","components/CreateChat.js","components/meeting.jpg","components/logo.jpg","components/CreateRoom.js","components/Peer.js","components/Menubar.js","components/Room.js","components/Chat.jsx","components/UserTest.js","App.js","reportWebVitals.js","index.js"],"names":["createUser","user","a","data","email","first_name","given_name","name","last_name","family_name","username","config","method","url","axios","response","id","console","log","addUser","roomID","userData","createChat","currentdate","Date","meetingTitle","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","title","admin_username","getChatMsgs","sendChatMsg","msg","text","Alert","props","elevation","variant","useStyles","makeStyles","theme","root","width","marginTop","spacing","CreateRoom","classes","useState","openSnack","setOpenSnack","openDialog","setOpenDialog","meetLink","setMeetLink","snackMsg","setSnackMsg","useAuth0","isAuthenticated","loginWithRedirect","logout","isLoading","useTheme","fullScreen","useMediaQuery","breakpoints","down","create","uuid","history","push","getId","n","lastIndexOf","mainLink","substring","meetId","useEffect","setTimeout","makeUser","className","src","logo_img","alt","onClick","returnTo","window","location","origin","pathname","state","autoComplete","type","placeholder","value","onChange","e","target","string","URL","_","protocol","isValidHttpUrl","length","meeting_img","Snackbar","open","autoHideDuration","onClose","severity","anchorOrigin","vertical","horizontal","color","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","createPeer","userToSignal","callerID","stream","socketRef","peer","Peer","initiator","trickle","getTracks","forEach","track","addTrack","err","on","current","emit","addPeer","incomingSignal","error","signal","position","bottom","backgroundColor","clone","obj","copy","constructor","attr","hasOwnProperty","video","userStream","peersRef","screenShare","setScreenShare","screenTrackRef","navigator","mediaDevices","getDisplayMedia","cursor","p","replaceTrack","videoTracks","onended","stop","Menubar","audio","showChat","setAudio","setVideo","setShowChat","leaveRoom","useRef","BottomNavigation","showLabels","BottomNavigationAction","audioTracks","enabled","isMuted","toggleAudio","label","style","icon","isOn","toggleVideo","shareScreen","DOMPurify","require","display","flexWrap","justifyContent","overflow","gridList","height","padding","listStyle","snackRoot","button","margin","marginLeft","Container","styled","div","StyledVideo","constraints","echoCancellation","min","Video","ref","srcObject","playsInline","autoPlay","controls","objectFit","right","minWidth","minHeight","backgroundSize","Room","peers","setPeers","setHeight","msgs","setMsgs","setMsg","dialog","setDialog","userVideo","msgRef","joiningSocket","match","params","h","screen","addEventListener","new_h","io","connect","videoChat","getUserMedia","getAudioTracks","getVideoTracks","users","peerUserID","peerID","payload","find","peerLeft","destroy","newPeers","filter","fetchChatMsgs","userName","userAlias","socketid","chatId","admitDeny","calcCols","count","latestMsgs","Symbol","iterator","getInitials","sender","ans","substr","toUpperCase","sendMsg","muted","GridList","cellHeight","Math","floor","cols","map","GridListTile","rows","top","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","maxHeight","timeStr","created","dangerouslySetInnerHTML","__html","sanitize","parseInt","disconnect","allowed","href","endIcon","clipboard","writeText","toString","backdrop","zIndex","drawer","Chat","allSet","setAllSet","chatEngRef","projectID","userSecret","setKeys","Backdrop","CircularProgress","CreateUser","App","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","domain","clientId","redirectUri","document","getElementById"],"mappings":"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","file":"static/js/main.746ae984.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport async function createUser(user) {\n  try {\n    // console.log(user);\n    const data = {\n      email: user.email,\n      first_name: user.given_name || user.name,\n      last_name: user.family_name,\n      username: user.email,\n    };\n    const config = {\n      method: \"post\", // get or create user\n      url: \"/create_user\",\n      data: data,\n    };\n    const response = await axios(config); // send request using axios\n    // console.log(response);\n    return response.data.id;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n\nexport async function addUser(user, roomID) {\n  try {\n    // console.log(user);\n    const data = {\n      userData: {\n        email: user.email,\n        first_name: user.given_name || user.name,\n        last_name: user.family_name,\n        username: user.email,\n      },\n      roomID: roomID\n    };\n    const config = {\n      method: \"post\",\n      url: \"/add_user\",\n      data: data,\n    };\n    const response = await axios(config);\n    // console.log(response);\n    return response.data.id;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n","import axios from \"axios\";\n\nexport async function createChat(user, roomID) {\n  try {\n    const currentdate = new Date();\n    const meetingTitle = `${user.given_name || user.name || user.email}'s Meeting Chat: ${currentdate.getDate()}/${currentdate.getMonth() + 1}/${currentdate.getFullYear()} @ ${currentdate.getHours()}:${currentdate.getMinutes()}:${currentdate.getSeconds()}`;\n    const data = {\n      userData: {\n        title: meetingTitle,\n        admin_username: user.email,\n      },\n      roomID: roomID,\n    };\n    const config = {\n      method: \"post\", // get or create user\n      url: \"/create_chat\",\n      data: data,\n    };\n    const response = await axios(config); // send request using axios\n    // console.log(response);\n    return response.data.id;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n\nexport async function getChatMsgs(user, roomID) {\n  try {\n    const data = {\n      username: user.email,\n      roomID: roomID,\n    };\n    // console.log(`roomID: ${roomID}`);\n    const config = {\n      method: \"post\",\n      url: \"/get_chat_msgs\",\n      data: data,\n    };\n    const response = await axios(config);\n    // console.log(response);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n\nexport async function sendChatMsg(user, msg, roomID) {\n  try {\n    const data = {\n      username: user.email,\n      data: {\n        text: msg,\n      },\n      roomID: roomID,\n    };\n    // console.log(data);\n    const config = {\n      method: \"post\",\n      url: \"/post_chat_msg\",\n      data: data,\n    };\n    const response = await axios(config);\n    // console.log(response);\n    return response;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n","export default __webpack_public_path__ + \"static/media/meeting.54508598.jpg\";","export default __webpack_public_path__ + \"static/media/logo.6dcdae02.jpg\";","import { useState, useEffect, useReducer } from \"react\";\n\nimport { v1 as uuid } from \"uuid\"; // to generate random roomId(s)\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport KeyboardIcon from \"@material-ui/icons/Keyboard\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport CommentIcon from \"@material-ui/icons/Comment\";\nimport AddIcCallIcon from \"@material-ui/icons/AddIcCall\";\n\nimport { createUser } from \"./CreateUser\";\nimport { createChat } from \"./CreateChat\";\nimport meeting_img from \"./meeting.jpg\";\nimport logo_img from \"./logo.jpg\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst isValidHttpUrl = (string) => {\n  let url;\n  try {\n    url = new URL(string);\n  } catch (_) {\n    return false;\n  }\n  return url.protocol === \"http:\" || url.protocol === \"https:\";\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nconst CreateRoom = (props) => {\n  const classes = useStyles();\n  const [openSnack, setOpenSnack] = useState(false);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [meetLink, setMeetLink] = useState(\"\");\n  const [snackMsg, setSnackMsg] = useState([\"\"]);\n  const { isAuthenticated, loginWithRedirect, logout, user, isLoading } =\n    useAuth0();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const create = async () => {\n    if (!isAuthenticated) loginWithRedirect();\n    if (isAuthenticated) {\n      const id = uuid();\n      const chatId = await createChat(user, id);\n      if (chatId) {\n        props.history.push(`/room/${id}`); // redirect to a randomly generated room and push to history stack\n      } else {\n        setOpenDialog(true);\n        console.log(\"Error\");\n      }\n    }\n  };\n\n  const redirectToChat = () => {\n    if (!isAuthenticated) loginWithRedirect();\n    if (isAuthenticated) {\n      props.history.push({\n        // redirect to the chat corresponding to the username\n        pathname: \"/chat\",\n        state: {\n          username: user.email,\n        },\n      });\n    }\n  };\n\n  const getId = () => {\n    let n = meetLink.lastIndexOf(\"/\");\n    let mainLink = meetLink.substring(0, n + 1);\n    let meetId = meetLink.substring(n + 1);\n    if (\n      mainLink === \"http://localhost:3000/room/\" ||\n      mainLink === \"https://localhost:3000/room/\" ||\n      mainLink === \"https://engage-teams-clone.herokuapp.com/room/\" ||\n      mainLink === \"http://engage-teams-clone.herokuapp.com/room/\"\n    )\n      return meetId;\n    else return \"\";\n  };\n\n  const joinCall = () => {\n    if (!isValidHttpUrl(meetLink) || getId(meetLink).length === 0) {\n      setOpenSnack(true);\n      setMeetLink(\"\");\n    } else {\n      if (!isAuthenticated) loginWithRedirect();\n      if (isAuthenticated) {\n        const id = getId(meetLink);\n        props.history.push(`/room/${id}`); // redirect to the specified room and push to history stack\n      }\n    }\n  };\n\n  useEffect(() => {\n    const makeUser = async () => {\n      const id = await createUser(user);\n      if (!id) {\n        setOpenDialog(true);\n        setTimeout(logout, 2500);\n      }\n    };\n    if (!isLoading && isAuthenticated) makeUser();\n  }, [isAuthenticated, isLoading, logout, user]);\n\n  return (\n    <div>\n      <header className=\"text-gray-700 body-font border-b border-gray-200\">\n        <div className=\"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center\">\n          <img src={logo_img} className=\"h-16 w-20\" alt=\"\" />\n          <span className=\"ml-3 text-xl\">TEEMS</span>\n          <nav className=\"md:ml-auto flex flex-wrap items-center text-base justify-center\">\n            {!isLoading && isAuthenticated ? (\n              <div>\n                <span className=\"mr-6 text-lg text-indigo-700\">\n                  Welcome back {user.first_name || user.name || user.email}\n                </span>\n                <button\n                  className=\"mt-5 md:mt-0 md:mr-5 inline-flex text-white bg-indigo-500 border-0 py-3 px-10 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                  onClick={async () => {\n                    const name = user.first_name || user.name || user.email;\n                    setSnackMsg([\n                      `Goodbye, ${name}. Looking forward to seeing you at Teems.`,\n                    ]);\n                    setTimeout(() => {\n                      logout({ returnTo: window.location.origin });\n                    }, 5000);\n                  }}\n                >\n                  <span className=\"cursor-pointer\">Logout</span>\n                </button>\n              </div>\n            ) : (\n              <button\n                className=\"mt-5 md:mt-0 md:mr-5 inline-flex text-white bg-indigo-500 border-0 py-3 px-10 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={() => loginWithRedirect()}\n              >\n                <span className=\"cursor-pointer\">Login</span>\n              </button>\n            )}\n          </nav>\n        </div>\n      </header>\n      <section className=\"text-gray-700 body-font\">\n        <div className=\"container mx-auto flex px-5 py-24 md:flex-row flex-col items-center\">\n          <div className=\"lg:flex-grow md:w-1/2 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center\">\n            <h1 className=\"title-font text-3xl md:text-4xl lg:text-5xl mb-4 font-bold text-gray-900\">\n              Microsof Teems\n            </h1>\n            <p className=\"mb-8 leading-relaxed text-xl md:text-2xl lg:text-3xl\">\n              Meet, chat, and call in just one place.\n            </p>\n            <div className=\"flex justify-center\">\n              <button\n                className=\"inline-flex text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={create}\n              >\n                <span className=\"mr-3\">\n                  <VideocamIcon />\n                </span>\n                New meeting\n              </button>\n              <button\n                className=\"ml-4 inline-flex text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={redirectToChat}\n              >\n                <span className=\"mr-3\">\n                  <CommentIcon />\n                </span>\n                Chat\n              </button>\n            </div>\n            <div className=\"mt-5 relative flex-col xl:flex-row flex w-full flex-wrap items-stretch mb-3 space-y-5 xl:space-y-0 xl:space-x-5\">\n              <div className=\"flex-1\">\n                <span className=\"z-10 h-full leading-snug font-normal absolute text-center text-blueGray-300 absolute bg-transparent rounded text-lg items-center justify-center w-8 pl-3 py-3\">\n                  <KeyboardIcon />\n                </span>\n                <input\n                  autoComplete=\"off\"\n                  id=\"meeting-link\"\n                  type=\"text\"\n                  placeholder=\"Enter the link to join meeting\"\n                  className=\"leading-3 px-3 py-4 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-base border-0 shadow outline-none focus:outline-none focus:ring w-full pl-10\"\n                  value={meetLink}\n                  onChange={(e) => setMeetLink(e.target.value)}\n                />\n              </div>\n              <button\n                className=\"text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={joinCall}\n              >\n                <span className=\"mr-3\">\n                  <AddIcCallIcon />\n                </span>\n                Join meeting\n              </button>\n            </div>\n          </div>\n          <div className=\"lg:max-w-lg lg:w-full md:w-1/2 w-5/6\">\n            <img\n              className=\"object-cover object-center rounded\"\n              alt=\"hero\"\n              src={meeting_img}\n            />\n          </div>\n        </div>\n      </section>\n      <div className={classes.root}>\n        <Snackbar\n          open={openSnack}\n          autoHideDuration={4000}\n          onClose={() => setOpenSnack(false)}\n          // TransitionComponent={TransitionRight}\n        >\n          <Alert onClose={() => setOpenSnack(false)} severity=\"error\">\n            Invalid meeting link!\n          </Alert>\n        </Snackbar>\n      </div>\n      <div className={classes.root}>\n        <Snackbar\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n          open={snackMsg[0].length !== 0}\n          autoHideDuration={6000}\n          onClose={() => setSnackMsg([\"\"])}\n        >\n          <Alert onClose={() => setSnackMsg([\"\"])} color=\"info\">\n            {snackMsg[0]}\n          </Alert>\n        </Snackbar>\n      </div>\n      <div>\n        <Dialog\n          fullScreen={fullScreen}\n          open={openDialog}\n          onClose={() => setOpenDialog(false)}\n          aria-labelledby=\"responsive-dialog-title\"\n        >\n          <DialogTitle id=\"responsive-dialog-title\">\n            {\"Problem connecting\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              It seems that something is temporarily wrong with your network\n              connection. Please check your internet connection and try again.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              autoFocus\n              onClick={() => setOpenDialog(false)}\n              color=\"primary\"\n            >\n              OK\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateRoom;\n","import Peer from \"simple-peer\";\n\n// called when \"joiner\" creates a peer connection\nexport function createPeer(userToSignal, callerID, stream, socketRef) {\n  const peer = new Peer({\n    initiator: true,\n    trickle: false,\n    // stream,\n  });\n\n  try {\n    stream.getTracks().forEach((track) => peer.addTrack(track, stream));\n  } catch (err) {\n    console.log(`Error in createPeer: ${err}`);\n  }\n\n  // \"signal\" is triggered once the peer object is created\n  peer.on(\"signal\", (data) => {\n    // create an offer to the peer via the backend\n    socketRef.current.emit(\"offer\", { userToSignal, callerID, data });\n  });\n\n  return peer;\n}\n\n// called when person in the call makes a peer connection with the \"joiner\"\nexport function addPeer(incomingSignal, callerID, stream, socketRef) {\n  const peer = new Peer({\n    initiator: false, // person who is already in the call is not the initiator\n    trickle: false,\n    // stream,\n  });\n\n  try {\n    stream.getTracks().forEach((track) => peer.addTrack(track, stream));\n  } catch (error) {\n    console.log(`Error in addPeer: ${error}`);\n  }\n\n  // \"signal\" is triggered once the peer object is created\n  peer.on(\"signal\", (data) => {\n    // accept the offer via the backend\n    socketRef.current.emit(\"answer\", { data, callerID });\n  });\n\n  // establish connection\n  peer.signal(incomingSignal);\n\n  return peer;\n}\n","import React from \"react\";\nimport { useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\nimport StopScreenShareIcon from \"@material-ui/icons/StopScreenShare\";\nimport SpeakerNotesIcon from \"@material-ui/icons/SpeakerNotes\";\nimport SpeakerNotesOffIcon from '@material-ui/icons/SpeakerNotesOff';\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"absolute\",\n    bottom: 0,\n    width: \"100%\",\n    backgroundColor: \"#202124\",\n  },\n});\n\nconst Menubar = ({\n  audio,\n  video,\n  screenShare,\n  showChat,\n  setAudio,\n  setVideo,\n  setScreenShare,\n  setShowChat,\n  leaveRoom,\n  peersRef,\n  userStream,\n}) => {\n  const screenTrackRef = useRef();\n  const classes = useStyles();\n\n  return (\n    <BottomNavigation showLabels className={classes.root}>\n      <BottomNavigationAction\n        onClick={() => toggleAudio(audio, setAudio)}\n        label={\n          audio.isMuted ? (\n            <span style={{ color: \"white\" }}>Turn on microphone</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Turn off microphone</span>\n          )\n        }\n        icon={\n          audio.isMuted ? (\n            <MicOffIcon color=\"secondary\" />\n          ) : (\n            <MicIcon style={{ color: \"white\" }} />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() => toggleVideo(video, setVideo)}\n        label={\n          video.isOn ? (\n            <span style={{ color: \"white\" }}>Turn off camera</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Turn on camera</span>\n          )\n        }\n        icon={\n          video.isOn ? (\n            <VideocamIcon style={{ color: \"white\" }} />\n          ) : (\n            <VideocamOffIcon color=\"secondary\" />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() =>\n          shareScreen(\n            video,\n            userStream,\n            peersRef,\n            screenShare,\n            setScreenShare,\n            screenTrackRef\n          )\n        }\n        label={\n          screenShare ? (\n            <span style={{ color: \"white\" }}>Stop presenting</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Present now</span>\n          )\n        }\n        icon={\n          screenShare ? (\n            <StopScreenShareIcon color=\"secondary\" />\n          ) : (\n            <ScreenShareIcon style={{ color: \"white\" }} />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() => (showChat ? setShowChat(false) : setShowChat(true))}\n        label={\n          showChat ? (\n            <span style={{ color: \"white\" }}>Hide Chat</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Show Chat</span>\n          )\n        }\n        icon={\n          showChat ? (\n            <SpeakerNotesIcon style={{ color: \"yellow\" }} />\n          ) : (\n            <SpeakerNotesOffIcon style={{ color: \"white\" }} />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() => leaveRoom()}\n        label={<span style={{ color: \"white\" }}>Leave call</span>}\n        icon={<CallEndIcon color=\"secondary\" />}\n      />\n    </BottomNavigation>\n  );\n};\n\nfunction clone(obj) {\n  if (null == obj || \"object\" != typeof obj) return obj;\n  let copy = obj.constructor();\n  for (let attr in obj) {\n    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n  }\n  return copy;\n}\n\nfunction toggleAudio(audio, setAudio) {\n  if (audio && audio.audioTracks) {\n    audio.audioTracks.forEach((track) => (track.enabled = !track.enabled));\n    audio.isMuted = !audio.isMuted;\n    const newAudio = clone(audio);\n    setAudio(newAudio);\n  }\n}\n\nfunction toggleVideo(video, setVideo) {\n  if (video && video.videoTracks) {\n    video.videoTracks.forEach((track) => (track.enabled = !track.enabled));\n    video.isOn = !video.isOn;\n    const newVideo = clone(video);\n    setVideo(newVideo);\n  }\n}\n\nasync function shareScreen(\n  video,\n  userStream,\n  peersRef,\n  screenShare,\n  setScreenShare,\n  screenTrackRef\n) {\n  try {\n    console.log(screenTrackRef.current);\n    if (!screenShare) {\n      const stream = await navigator.mediaDevices.getDisplayMedia({\n        cursor: true,\n      });\n      screenTrackRef.current = stream.getTracks()[0];\n      peersRef.current.forEach((p) => {\n        p.peer.replaceTrack(\n          video.videoTracks[0],\n          screenTrackRef.current,\n          userStream.current\n        );\n      });\n      setScreenShare(true);\n      screenTrackRef.current.onended = () => {\n        peersRef.current.forEach((p) => {\n          p.peer.replaceTrack(\n            screenTrackRef.current,\n            video.videoTracks[0],\n            userStream.current\n          );\n        });\n      };\n    } else if (screenTrackRef.current) {\n      console.log(\"RAN\");\n      screenTrackRef.current.stop();\n      setScreenShare(false);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport default Menubar;\n","// built in react\nimport { useEffect, useRef, useState } from \"react\";\n\n// external packages\nimport io from \"socket.io-client\";\nimport styled from \"styled-components\";\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// internal components\nimport { createPeer, addPeer } from \"./Peer\";\nimport { addUser } from \"./CreateUser\";\nimport { sendChatMsg, getChatMsgs } from \"./CreateChat\";\nimport Menubar from \"./Menubar\";\nimport \"./Room.css\";\n\nconst DOMPurify = require(\"dompurify\")(window);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    overflow: \"hidden\",\n    backgroundColor: \"#202124\",\n  },\n  gridList: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    padding: 0,\n    flexWrap: \"wrap\",\n    listStyle: \"none\",\n    overflow: \"auto\",\n    justifyContent: \"center\",\n  },\n  snackRoot: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n  button: {\n    margin: theme.spacing(1),\n    marginLeft: theme.spacing(4),\n  },\n}));\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst Container = styled.div`\n  position: absolute;\n  top: 10px;\n  bottom: 10px;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  background-color: #202124;\n`;\n\nconst StyledVideo = styled.video`\n  position: absolute;\n  right: 1%;\n  bottom: 5%;\n  height: 16%;\n  width: 20%;\n  z-index: 1;\n`;\n\nconst constraints = {\n  audio: { echoCancellation: true },\n  video: {\n    width: { min: 1280 },\n    height: { min: 720 },\n  },\n};\n\nconst Video = (props) => {\n  const ref = useRef();\n  useEffect(() => {\n    props.peer.on(\"stream\", (stream) => {\n      ref.current.srcObject = stream;\n    });\n  }, [props.peer]);\n  return (\n    <video\n      height=\"100%\"\n      width=\"100%\"\n      playsInline\n      autoPlay\n      controls\n      ref={ref}\n      style={{\n        padding: 0,\n        objectFit: \"cover\",\n        position: \"absolute\",\n        right: 0,\n        bottom: 0,\n        minWidth: \"100%\",\n        minHeight: \"100%\",\n        width: \"auto\",\n        height: \"auto\",\n        backgroundSize: \"cover\",\n        overflow: \"hidden\",\n      }}\n    />\n  );\n};\n\nconst Room = (props) => {\n  const [peers, setPeers] = useState([]);\n  const [audio, setAudio] = useState({});\n  const [video, setVideo] = useState({});\n  const [height, setHeight] = useState();\n  const [msgs, setMsgs] = useState([]);\n  const [msg, setMsg] = useState(\"\");\n  const [showChat, setShowChat] = useState(false);\n  const [screenShare, setScreenShare] = useState(false);\n  const [openSnack, setOpenSnack] = useState(false);\n  const [snackMsg, setSnackMsg] = useState([\"\"]);\n  const [dialog, setDialog] = useState(\"\");\n  const socketRef = useRef();\n  const userVideo = useRef();\n  const peersRef = useRef([]);\n  const userStream = useRef();\n  const msgRef = useRef();\n  const joiningSocket = useRef();\n  const { user, isAuthenticated, loginWithRedirect } = useAuth0();\n  const theme = useTheme();\n\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const roomID = props.match.params.roomID;\n\n  useEffect(() => {\n    let h = window.screen.height;\n    setHeight(h);\n    window.addEventListener(\"resize\", () => {\n      let new_h = window.screen.height;\n      setHeight(new_h);\n    });\n    socketRef.current = io.connect(\"/\");\n\n    const videoChat = async () => {\n      /*****  add a try-catch here to check whether user has given the permission. ****/\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      userStream.current = stream;\n      userVideo.current.srcObject = stream;\n      setAudio({ isMuted: false, audioTracks: stream.getAudioTracks() });\n      setVideo({ isOn: true, videoTracks: stream.getVideoTracks() });\n\n      socketRef.current.emit(\"join-room\", {\n        roomID: roomID,\n        email: user.email,\n      });\n\n      socketRef.current.on(\"all-users\", (users) => {\n        const peers = [];\n        users.forEach((peerUserID) => {\n          const peer = createPeer(\n            peerUserID,\n            socketRef.current.id,\n            stream,\n            socketRef\n          );\n\n          peersRef.current.push({\n            peerID: peerUserID,\n            peer,\n          });\n          peers.push({\n            peerID: peerUserID,\n            peer,\n          });\n        });\n        setPeers([...peersRef.current]);\n      });\n\n      socketRef.current.on(\"user-joined\", (payload) => {\n        const peer = addPeer(payload.data, payload.callerID, stream, socketRef);\n\n        peersRef.current.push({\n          peerID: payload.callerID,\n          peer,\n        });\n        setPeers([...peersRef.current]);\n      });\n\n      socketRef.current.on(\"receiving-answer\", (payload) => {\n        const item = peersRef.current.find((p) => p.peerID === payload.id);\n        item.peer.signal(payload.data);\n        addUser(user, roomID);\n      });\n\n      socketRef.current.on(\"user-left\", (id) => {\n        const peerLeft = peersRef.current.find((p) => p.peerID === id);\n        if (peerLeft) {\n          peerLeft.peer.destroy();\n        }\n        const newPeers = peersRef.current.filter((p) => p.peerID !== id);\n        peersRef.current = newPeers;\n        setPeers(newPeers);\n      });\n\n      socketRef.current.on(\"reload_msgs\", (id) => {\n        fetchChatMsgs();\n      });\n    };\n\n    const admitDeny = async () => {\n      socketRef.current.emit(\"permission\", {\n        userName: user.name || user.email,\n        roomID: roomID,\n        email: user.email,\n      });\n\n      socketRef.current.on(\"no permit required\", async () => {\n        try {\n          await videoChat();\n          await fetchChatMsgs();\n          setSnackMsg([`Welcome to the meet, ${user.first_name || user.name || user.email}`]);\n        } catch (error) {\n          // \"check your connection and try again\";\n        }\n      });\n\n      socketRef.current.on(\"permit?\", (payload) => {\n        // console.log(\"payload: \", payload);\n        const userAlias = payload.userAlias;\n        const socketid = payload.id;\n        joiningSocket.current = socketid; // this is a ref\n        setDialog(`1 ${userAlias}`);\n        // identify popup using popup[0] = 1\n      });\n\n      socketRef.current.on(\"denied\", () => {\n        setDialog(\"denied to join\");\n        // redirect to home page\n      });\n\n      socketRef.current.on(\"allowed\", async (chatId) => {\n        // allowed in the call\n        try {\n          await videoChat();\n          await fetchChatMsgs();\n          setSnackMsg([`Welcome to the meet, ${user.first_name || user.name || user.email}`]);\n        } catch (error) {\n          // \"check your connection and try again\";\n        }\n      });\n    };\n\n    if (isAuthenticated) {\n      admitDeny();\n    } else loginWithRedirect();\n    // console.log(msgs);\n  }, [isAuthenticated, loginWithRedirect, roomID, user]);\n\n  const leaveRoom = () => {\n    userVideo.current.srcObject.getTracks().forEach((track) => track.stop());\n    peersRef.current = null;\n    setPeers(peersRef.current);\n    socketRef.current.disconnect();\n    props.history.push(`/`);\n  };\n\n  const calcRows = (count) => {\n    if (count <= 2) return 30;\n    if (count <= 6) return 15;\n    if (count <= 9) return 10;\n    if (count <= 16) return 7;\n  };\n\n  const calcCols = (count) => {\n    if (count === 1) return 60;\n    if (count <= 4) return 30;\n    if (count <= 9) return 20;\n    if (count <= 16) return 15;\n  };\n\n  const fetchChatMsgs = async () => {\n    const latestMsgs = await getChatMsgs(user, roomID);\n    // console.log(`Latest Messages: ${latestMsgs}`);\n    // console.log(latestMsgs);\n    if (latestMsgs && typeof latestMsgs[Symbol.iterator] === \"function\") {\n      // console.log(\"setting latestMsgs\");\n      setMsgs([...latestMsgs]);\n    }\n    // console.log(msgs);\n  };\n\n  const getTime = (timeStr) => {\n    return timeStr.substring(11, 19);\n  };\n\n  const getInitials = (sender) => {\n    let ans = \"\";\n    if (sender.first_name) ans += sender.first_name.substr(0, 1).toUpperCase();\n    if (sender.last_name) ans += sender.last_name.substr(0, 1).toUpperCase();\n    return ans;\n  };\n\n  const sendMsg = async () => {\n    if (msg.length === 0) setOpenSnack(true);\n    else {\n      await sendChatMsg(user, msg, roomID);\n      // const response = await sendChatMsg(user, msg, roomID);\n      socketRef.current.emit(\"reload\");\n      setMsg(\"\");\n      // console.log(response);\n      fetchChatMsgs();\n    }\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Container>\n      <StyledVideo controls muted ref={userVideo} autoPlay playsInline />\n      <div className={classes.root}>\n        <GridList\n          cellHeight={Math.floor(height / 35)}\n          cols={60}\n          className={classes.gridList}\n        >\n          {peers.map((peer) => (\n            <GridListTile\n              rows={calcRows(peers.length)}\n              cols={calcCols(peers.length)}\n              key={peer.peerID}\n            >\n              <Video peer={peer.peer} />\n            </GridListTile>\n          ))}\n        </GridList>\n      </div>\n\n      <div\n        style={{\n          position: \"absolute\",\n          height: \"100%\",\n          width: \"100%\",\n          top: \"7%\",\n        }}\n      >\n        <div className=\"flex justify-between\" style={{ minHeight: \"85%\" }}>\n          {/* Video stream section */}\n          <section className=\"flex\">\n            {/* Messages sidebar */}\n            <div\n              id=\"chat-div\"\n              className={\n                (showChat ? \"\" : \"hidden\") +\n                \" bg-gray-100 text-gray-700 sm:max-w-sm p-4 border-t border-b-4 border-gray-300 flex flex-col justify-between\"\n              }\n            >\n              <div>\n                <div className=\"flex justify-between items-center\">\n                  <h1 className=\"font-semibold\">Meeting chat</h1>\n                </div>\n\n                <div className=\"py-3 flex justify-center items-center space-x-4 text-sm\">\n                  <svg\n                    className=\"w-6 h-6 text-indigo-500\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                    ></path>\n                  </svg>\n\n                  <h2 className=\"font-semibold\">Meeting started</h2>\n                  {/* <span className=\"text-xs\">10:12</span> */}\n                </div>\n\n                {/* Div for messages */}\n                <div\n                  style={{ maxHeight: 23.2 + \"rem\" }}\n                  className=\"text-sm mt-4 space-y-4 overflow-scroll scrollbar-hidden\"\n                >\n                  {/* Individual message */}\n                  {msgs.map((msg) => (\n                    <div className=\"flex\" key={parseInt(msg.id)}>\n                      <span className=\"bg-indigo-900 text-gray-300 h-8 w-10 p-2 rounded-full flex items-center justify-center mt-2 z-10\">\n                        {getInitials(msg.sender)}\n                      </span>\n                      <div className=\"-ml-2 py-2 px-4 bg-gray-200 rounded\">\n                        <div className=\"flex justify-between items-center\">\n                          <h1 className=\"font-semibold text-gray-800\">\n                            {msg.sender.first_name || msg.sender.username}\n                          </h1>\n                          <span className=\"text-xs\">\n                            {getTime(msg.created)}\n                          </span>\n                        </div>\n                        <p\n                          dangerouslySetInnerHTML={{\n                            __html: DOMPurify.sanitize(msg.text),\n                          }}\n                        ></p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"flex mt-10\">\n                <input\n                  type=\"text\"\n                  className=\"p-3 bg-transparent border border-r-0 border-gray-400 text-sm outline-none rounded-tl rounded-bl w-full tracking-wide\"\n                  placeholder=\"Type a new message\"\n                  value={msg}\n                  ref={msgRef}\n                  onChange={(e) => setMsg(e.target.value)}\n                />\n                <button\n                  className=\"p-2 bg-blue-800 text-gray-200 rounded-tr rounded-br\"\n                  onClick={(e) => sendMsg(e)}\n                >\n                  <svg\n                    className=\"w-5 h-5\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\"\n                    ></path>\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n\n      <Menubar\n        audio={audio}\n        video={video}\n        screenShare={screenShare}\n        showChat={showChat}\n        setAudio={setAudio}\n        setVideo={setVideo}\n        setScreenShare={setScreenShare}\n        setShowChat={setShowChat}\n        leaveRoom={leaveRoom}\n        peersRef={peersRef}\n        userStream={userStream}\n      />\n\n      {dialog[0] === \"1\" && (\n        <div>\n          <Dialog\n            fullScreen={fullScreen}\n            open={true}\n            onClose={() => {\n              socketRef.current.emit(\"permit status\", {\n                allowed: false,\n                id: joiningSocket.current,\n              });\n              setDialog(\"\");\n            }}\n            aria-labelledby=\"responsive-dialog-title\"\n          >\n            <DialogTitle id=\"responsive-dialog-title\">\n              {\"Someone wants to join this meeting\"}\n            </DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                {`Hey, ${dialog.substr(2)} wants to join the call.`}\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                autoFocus\n                onClick={() => {\n                  socketRef.current.emit(\"permit status\", {\n                    allowed: false,\n                    id: joiningSocket.current,\n                  });\n                  setDialog(\"\");\n                }}\n                color=\"primary\"\n              >\n                Deny Entry\n              </Button>\n              <Button\n                onClick={() => {\n                  socketRef.current.emit(\"permit status\", {\n                    allowed: true,\n                    id: joiningSocket.current,\n                  });\n                  setDialog(\"\");\n                }}\n                color=\"primary\"\n                autoFocus\n              >\n                Admit\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      )}\n\n      {dialog === \"denied to join\" && (\n        <div>\n          <Dialog\n            fullScreen={fullScreen}\n            open={true}\n            onClose={() => {\n              setDialog(\"\");\n              // redirection to home page on Close\n              window.location.href = window.location.origin;\n            }}\n            aria-labelledby=\"responsive-dialog-title\"\n          >\n            <DialogTitle id=\"responsive-dialog-title\">\n              {\"Permission Denied\"}\n            </DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                {\n                  \"You are not allowed to join this call. Kindly contact the organizer for the permission.\"\n                }\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                autoFocus\n                onClick={() => {\n                  setDialog(\"\");\n                  // redirection to home page on Close\n                  window.location.href = window.location.origin;\n                }}\n                color=\"primary\"\n              >\n                Ok\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      )}\n      <div className={classes.snackRoot}>\n        <Snackbar\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n          open={openSnack}\n          autoHideDuration={6000}\n          onClose={() => setOpenSnack(false)}\n        >\n          <Alert onClose={() => setOpenSnack(false)} severity=\"error\">\n            The message cannot be empty!\n          </Alert>\n        </Snackbar>\n      </div>\n        <div className={classes.snackRoot}>\n          <Snackbar\n            anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n            open={snackMsg[0].length !== 0}\n            autoHideDuration={6000}\n            onClose={() => setSnackMsg([\"\"])}\n          >\n            <Alert\n              onClose={() => setSnackMsg([\"\"])}\n              severity=\"success\"\n            >\n              { snackMsg[0] }\n            </Alert>\n          </Snackbar>\n        </div>\n      <div>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.button}\n          endIcon={<AssignmentIcon />}\n          onClick={() => {\n            navigator.clipboard.writeText(window.location.href.toString());\n            setSnackMsg([\"Link Copied To Clipboard\"]);\n          }}\n        >\n          Copy Meeting Link\n        </Button>\n      </div>\n    </Container>\n  );\n};\n\nexport default Room;\n","import { useState, useEffect, useRef } from \"react\";\n\nimport axios from \"axios\";\nimport { ChatEngine } from \"react-chat-engine\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nconst Chat = (props) => {\n  const [allSet, setAllSet] = useState(false);\n  const chatEngRef = useRef();\n  const classes = useStyles();\n\n  \n  useEffect(() => {\n    const setKeys = async () => {\n      try {\n        const config = {\n          method: \"post\",\n          url: \"/fetch_keys\",\n        };\n        const response = await axios(config);\n        chatEngRef.current = {};\n        chatEngRef.current[\"projectID\"] = response.data.projectID;\n        chatEngRef.current[\"userName\"] = props.location.state.username;\n        chatEngRef.current[\"userSecret\"] = response.data.userSecret;\n        if (\n          chatEngRef.current[\"projectID\"] &&\n          chatEngRef.current[\"userName\"] &&\n          chatEngRef.current[\"userSecret\"]\n        )\n          setAllSet(true);\n        // console.log(allSet);\n      } catch (error) {\n        console.log(error);\n        props.history.push(`/`);\n      }\n    };\n    setKeys();\n  }, [allSet, props.history, props.location.state.username]);\n\n  return (\n    <>\n      {allSet ? (\n        <ChatEngine\n          height=\"100vh\"\n          projectID={chatEngRef.current[\"projectID\"]}\n          userName={chatEngRef.current[\"userName\"]}\n          userSecret={chatEngRef.current[\"userSecret\"]}\n        />\n      ) : (\n        <Backdrop className={classes.backdrop} open={true}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      )}\n    </>\n  );\n};\n\nexport default Chat;\n","import axios from \"axios\";\nimport React from \"react\";\n\nconst CreateUser = () => {\n  const createUser = async () => {\n    try {\n      /*****\n       * \"first_name\", \"last_name\", \"email\"\n       *****/\n      const data = {\n        username: \"bob_baker\",\n      };\n      const config = {\n        method: \"post\", // get or create user\n        url: \"/create_user\",\n        data: data,\n      };\n      const response = await axios(config); // send request using axios\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const createChat = async () => {\n    try {\n      /*****\n       * \"title\", \"admin_username\"\n       *****/\n      const data = {\n        title: \"Baker's Chat\",\n        admin_username: \"bob_baker\",\n      };\n      const config = {\n        method: \"post\", // get or create user\n        url: \"/create_chat\",\n        data: data,\n      };\n      const response = await axios(config); // send request using axios\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const addUser = async () => {\n    try {\n      /*****\n       * username, (id in backend)\n      *****/\n      const data = {\n        username: \"bob_baker\",\n      };\n      const config = {\n        method: \"post\",\n        url: \"/add_user\",\n        data: data,\n      };\n      const response = await axios(config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getChatMsgs = async () => {\n    try {\n      /*****\n       * username, (id in backend)\n      *****/\n      const data = {\n        username: \"Saket\",\n      };\n      const config = {\n        method: \"post\",\n        url: \"/get_chat_msgs\",\n        data: data,\n      };\n      const response = await axios(config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const sendChatMsg = async () => {\n    try {\n      /*****\n       * username, (id in backend)\n      *****/\n      const data = {\n        username: \"Saket\",\n        data: {\n          \"text\": \"Hello World\",\n          \"custom_json\": {\"gif\": \"https://giphy.com/clips/ufc-4eZuG5kNYvDrGc6gYk\"}\n        }\n      };\n      const config = {\n        method: \"post\",\n        url: \"/post_chat_msg\",\n        data: data,\n      };\n      const response = await axios(config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      <button onClick={createUser}>Create User</button>\n      <br />\n      <button onClick={() => createChat()}>Create Chat</button>\n      <br />\n      <button onClick={() => addUser()}>Add User</button>\n      <br />\n      <button onClick={() => getChatMsgs()}>Get Chat</button>\n      <br />\n      <button onClick={() => sendChatMsg()}>Send Chat Msg</button>\n    </>\n  );\n};\n\nexport default CreateUser;\n","// Built-in react\nimport React from \"react\";\n\n// external packages\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\n// custom components\nimport CreateRoom from \"./components/CreateRoom\";\nimport Room from \"./components/Room\";\nimport Chat from \"./components/Chat\";\nimport CreateUser from \"./components/UserTest\";\n\nfunction App() {  \n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/room/:roomID\" exact component={Room} />\n        <Route path=\"/chat\" exact component={Chat} />\n        <Route path=\"/create\" exact component={CreateUser} />\n        <Route path=\"/\" exact component={CreateRoom} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport '@fontsource/roboto';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\n  ReactDOM.render(\n    <Auth0Provider\n      domain=\"dev-h72otjre.us.auth0.com\"\n      clientId=\"uepAKWqvGUsJyYEVE10EjqeTJ2MUSAXz\"\n      redirectUri={window.location.origin}\n    >\n      <App />\n    </Auth0Provider>,\n    document.getElementById(\"root\")\n  );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}