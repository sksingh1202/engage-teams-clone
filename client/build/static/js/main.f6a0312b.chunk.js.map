{"version":3,"sources":["components/CreateUser.js","components/CreateChat.js","components/meeting.jpg","components/logo.jpg","components/CreateRoom.js","components/Peer.js","components/Menubar.js","components/Room.js","components/Chat.jsx","components/UserTest.js","App.js","reportWebVitals.js","index.js"],"names":["createUser","user","a","data","email","first_name","given_name","name","last_name","family_name","username","config","method","url","axios","response","id","console","log","addUser","roomID","userData","createChat","currentdate","Date","meetingTitle","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","title","admin_username","getChatMsgs","sendChatMsg","msg","text","Alert","props","elevation","variant","useStyles","makeStyles","theme","root","width","marginTop","spacing","CreateRoom","classes","useState","openSnack","setOpenSnack","openDialog","setOpenDialog","meetLink","setMeetLink","useAuth0","isAuthenticated","loginWithRedirect","logout","useTheme","fullScreen","useMediaQuery","breakpoints","down","create","uuid","history","push","getId","n","lastIndexOf","mainLink","substring","meetId","useEffect","setTimeout","makeUser","className","src","logo_img","alt","onClick","returnTo","window","location","origin","pathname","state","autoComplete","type","placeholder","value","onChange","e","target","string","URL","_","protocol","isValidHttpUrl","length","meeting_img","Snackbar","open","autoHideDuration","onClose","severity","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","color","createPeer","userToSignal","callerID","stream","socketRef","peer","Peer","initiator","trickle","getTracks","forEach","track","addTrack","err","on","current","emit","addPeer","incomingSignal","error","signal","position","bottom","backgroundColor","clone","obj","copy","constructor","attr","hasOwnProperty","video","userStream","peersRef","screenShare","setScreenShare","screenTrackRef","navigator","mediaDevices","getDisplayMedia","cursor","p","replaceTrack","videoTracks","onended","stop","Menubar","audio","showChat","setAudio","setVideo","setShowChat","leaveRoom","useRef","BottomNavigation","showLabels","BottomNavigationAction","audioTracks","enabled","isMuted","toggleAudio","label","style","icon","isOn","toggleVideo","shareScreen","DOMPurify","require","display","flexWrap","justifyContent","overflow","gridList","height","padding","listStyle","snackRoot","Container","styled","div","StyledVideo","constraints","echoCancellation","min","Video","ref","srcObject","playsInline","autoPlay","controls","objectFit","right","minWidth","minHeight","backgroundSize","Room","peers","setPeers","setHeight","msgs","setMsgs","setMsg","dialog","setDialog","userVideo","msgRef","joiningSocket","match","params","h","screen","addEventListener","new_h","io","connect","videoChat","getUserMedia","getAudioTracks","getVideoTracks","users","peerUserID","peerID","payload","find","peerLeft","destroy","newPeers","filter","fetchChatMsgs","userName","userAlias","socketid","chatId","admitDeny","calcCols","count","latestMsgs","Symbol","iterator","getInitials","sender","ans","substr","toUpperCase","sendMsg","muted","GridList","cellHeight","Math","floor","cols","map","GridListTile","rows","top","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","maxHeight","timeStr","created","dangerouslySetInnerHTML","__html","sanitize","parseInt","disconnect","allowed","href","anchorOrigin","vertical","horizontal","backdrop","zIndex","drawer","Chat","allSet","setAllSet","chatEngRef","projectID","userSecret","setKeys","Backdrop","CircularProgress","CreateUser","App","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","domain","clientId","redirectUri","document","getElementById"],"mappings":"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","file":"static/js/main.f6a0312b.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport async function createUser(user) {\n  try {\n    // console.log(user);\n    const data = {\n      email: user.email,\n      first_name: user.given_name || user.name,\n      last_name: user.family_name,\n      username: user.email,\n    };\n    const config = {\n      method: \"post\", // get or create user\n      url: \"/create_user\",\n      data: data,\n    };\n    const response = await axios(config); // send request using axios\n    // console.log(response);\n    return response.data.id;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n\nexport async function addUser(user, roomID) {\n  try {\n    // console.log(user);\n    const data = {\n      userData: {\n        email: user.email,\n        first_name: user.given_name || user.name,\n        last_name: user.family_name,\n        username: user.email,\n      },\n      roomID: roomID\n    };\n    const config = {\n      method: \"post\",\n      url: \"/add_user\",\n      data: data,\n    };\n    const response = await axios(config);\n    // console.log(response);\n    return response.data.id;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n","import axios from \"axios\";\n\nexport async function createChat(user, roomID) {\n  try {\n    const currentdate = new Date();\n    const meetingTitle = `${user.given_name || user.name || user.email}'s Meeting Chat: ${currentdate.getDate()}/${currentdate.getMonth() + 1}/${currentdate.getFullYear()} @ ${currentdate.getHours()}:${currentdate.getMinutes()}:${currentdate.getSeconds()}`;\n    const data = {\n      userData: {\n        title: meetingTitle,\n        admin_username: user.email,\n      },\n      roomID: roomID,\n    };\n    const config = {\n      method: \"post\", // get or create user\n      url: \"/create_chat\",\n      data: data,\n    };\n    const response = await axios(config); // send request using axios\n    console.log(response);\n    return response.data.id;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n\nexport async function getChatMsgs(user, roomID) {\n  try {\n    const data = {\n      username: user.email,\n      roomID: roomID,\n    };\n    console.log(`roomID: ${roomID}`);\n    const config = {\n      method: \"post\",\n      url: \"/get_chat_msgs\",\n      data: data,\n    };\n    const response = await axios(config);\n    console.log(response);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n\nexport async function sendChatMsg(user, msg, roomID) {\n  try {\n    const data = {\n      username: user.email,\n      data: {\n        text: msg,\n      },\n      roomID: roomID,\n    };\n    console.log(data);\n    const config = {\n      method: \"post\",\n      url: \"/post_chat_msg\",\n      data: data,\n    };\n    const response = await axios(config);\n    console.log(response);\n    return response;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n","export default __webpack_public_path__ + \"static/media/meeting.54508598.jpg\";","export default __webpack_public_path__ + \"static/media/logo.6dcdae02.jpg\";","import { useState, useEffect } from \"react\";\n\nimport { v1 as uuid } from \"uuid\"; // to generate random roomId(s)\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport KeyboardIcon from \"@material-ui/icons/Keyboard\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport CommentIcon from \"@material-ui/icons/Comment\";\nimport AddIcCallIcon from \"@material-ui/icons/AddIcCall\";\n\nimport { createUser } from \"./CreateUser\";\nimport { createChat } from \"./CreateChat\";\nimport meeting_img from \"./meeting.jpg\";\nimport logo_img from \"./logo.jpg\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst isValidHttpUrl = (string) => {\n  let url;\n  try {\n    url = new URL(string);\n  } catch (_) {\n    return false;\n  }\n  return url.protocol === \"http:\" || url.protocol === \"https:\";\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nconst CreateRoom = (props) => {\n  const classes = useStyles();\n  const [openSnack, setOpenSnack] = useState(false);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [meetLink, setMeetLink] = useState(\"\");\n  const { isAuthenticated, loginWithRedirect, logout, user } = useAuth0();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const create = async () => {\n    if (!isAuthenticated) loginWithRedirect();\n    if (isAuthenticated) {\n      const id = uuid();\n      const chatId = await createChat(user, id);\n      if (chatId) {\n        props.history.push(`/room/${id}`); // redirect to a randomly generated room and push to history stack\n      } else {\n        setOpenDialog(true);\n        console.log(\"Error\");\n      }\n    }\n  };\n\n  const redirectToChat = () => {\n    if (!isAuthenticated) loginWithRedirect();\n    if (isAuthenticated) {\n      props.history.push({\n        // redirect to the chat corresponding to the username\n        pathname: \"/chat\",\n        state: {\n          username: user.email,\n        },\n      });\n    }\n  };\n\n  const getId = () => {\n    let n = meetLink.lastIndexOf(\"/\");\n    let mainLink = meetLink.substring(0, n + 1);\n    let meetId = meetLink.substring(n + 1);\n    if (\n      mainLink === \"http://localhost:3000/room/\" ||\n      mainLink === \"https://localhost:3000/room/\" ||\n      mainLink === \"https://engage-teams-clone.herokuapp.com/room/\" ||\n      mainLink === \"http://engage-teams-clone.herokuapp.com/room/\"\n    )\n      return meetId;\n    else return \"\";\n  };\n\n  const joinCall = () => {\n    if (!isValidHttpUrl(meetLink) || getId(meetLink).length === 0) {\n      setOpenSnack(true);\n      setMeetLink(\"\");\n    } else {\n      if (!isAuthenticated) loginWithRedirect();\n      if (isAuthenticated) {\n        const id = getId(meetLink);\n        props.history.push(`/room/${id}`); // redirect to the specified room and push to history stack\n      }\n    }\n  };\n\n  useEffect(() => {\n    const makeUser = async () => {\n      const id = await createUser(user);\n      if (!id) {\n        setOpenDialog(true);\n        setTimeout(logout, 2500);\n      }\n    };\n    if (isAuthenticated) makeUser();\n  }, [isAuthenticated, logout, user]);\n\n  return (\n    <div>\n      <header className=\"text-gray-700 body-font border-b border-gray-200\">\n        <div className=\"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center\">\n          <img src={logo_img} className=\"h-16 w-20\" alt=\"\" />\n          <span className=\"ml-3 text-xl\">TEEMS</span>\n          <nav className=\"md:ml-auto flex flex-wrap items-center text-base justify-center\">\n            {isAuthenticated ? (\n              <button\n                className=\"mt-5 md:mt-0 md:mr-5 inline-flex text-white bg-indigo-500 border-0 py-3 px-10 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={() => logout({ returnTo: window.location.origin })}\n              >\n                <span className=\"cursor-pointer\">Logout</span>\n              </button>\n            ) : (\n              <button\n                className=\"mt-5 md:mt-0 md:mr-5 inline-flex text-white bg-indigo-500 border-0 py-3 px-10 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={() => loginWithRedirect()}\n              >\n                <span className=\"cursor-pointer\">Login</span>\n              </button>\n            )}\n          </nav>\n        </div>\n      </header>\n      <section className=\"text-gray-700 body-font\">\n        <div className=\"container mx-auto flex px-5 py-24 md:flex-row flex-col items-center\">\n          <div className=\"lg:flex-grow md:w-1/2 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center\">\n            <h1 className=\"title-font text-3xl md:text-4xl lg:text-5xl mb-4 font-bold text-gray-900\">\n              Microsof Teems\n            </h1>\n\n            <p className=\"mb-8 leading-relaxed text-xl md:text-2xl lg:text-3xl\">\n              Meet, chat, and call in just one place.\n            </p>\n            <div className=\"flex justify-center\">\n              <button\n                className=\"inline-flex text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={create}\n              >\n                <span className=\"mr-3\">\n                  <VideocamIcon />\n                </span>\n                New meeting\n              </button>\n              <button\n                className=\"ml-4 inline-flex text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={redirectToChat}\n              >\n                <span className=\"mr-3\">\n                  <CommentIcon />\n                </span>\n                Chat\n              </button>\n            </div>\n            <div className=\"mt-5 relative flex-col xl:flex-row flex w-full flex-wrap items-stretch mb-3 space-y-5 xl:space-y-0 xl:space-x-5\">\n              <div className=\"flex-1\">\n                <span className=\"z-10 h-full leading-snug font-normal absolute text-center text-blueGray-300 absolute bg-transparent rounded text-lg items-center justify-center w-8 pl-3 py-3\">\n                  <KeyboardIcon />\n                </span>\n                <input\n                  autoComplete=\"off\"\n                  id=\"meeting-link\"\n                  type=\"text\"\n                  placeholder=\"Enter the link to join meeting\"\n                  className=\"leading-3 px-3 py-4 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-base border-0 shadow outline-none focus:outline-none focus:ring w-full pl-10\"\n                  value={meetLink}\n                  onChange={(e) => setMeetLink(e.target.value)}\n                />\n              </div>\n              <button\n                className=\"text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\n                onClick={joinCall}\n              >\n                <span className=\"mr-3\">\n                  <AddIcCallIcon />\n                </span>\n                Join meeting\n              </button>\n            </div>\n          </div>\n          <div className=\"lg:max-w-lg lg:w-full md:w-1/2 w-5/6\">\n            <img\n              className=\"object-cover object-center rounded\"\n              alt=\"hero\"\n              src={meeting_img}\n            />\n          </div>\n        </div>\n      </section>\n      <div className={classes.root}>\n        <Snackbar\n          open={openSnack}\n          autoHideDuration={4000}\n          onClose={() => setOpenSnack(false)}\n          // TransitionComponent={TransitionRight}\n        >\n          <Alert onClose={() => setOpenSnack(false)} severity=\"error\">\n            Invalid meeting link!\n          </Alert>\n        </Snackbar>\n      </div>\n      <div>\n        <Dialog\n          fullScreen={fullScreen}\n          open={openDialog}\n          onClose={() => setOpenDialog(false)}\n          aria-labelledby=\"responsive-dialog-title\"\n        >\n          <DialogTitle id=\"responsive-dialog-title\">\n            {\"Problem connecting\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              It seems that something is temporarily wrong with your network\n              connection. Please check your internet connection and try again.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              autoFocus\n              onClick={() => setOpenDialog(false)}\n              color=\"primary\"\n            >\n              OK\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateRoom;\n","import Peer from \"simple-peer\";\n\n// called when \"joiner\" creates a peer connection\nexport function createPeer(userToSignal, callerID, stream, socketRef) {\n  const peer = new Peer({\n    initiator: true,\n    trickle: false,\n    // stream,\n  });\n\n  try {\n    stream.getTracks().forEach((track) => peer.addTrack(track, stream));\n  } catch (err) {\n    console.log(`Error in createPeer: ${err}`);\n  }\n\n  // \"signal\" is triggered once the peer object is created\n  peer.on(\"signal\", (data) => {\n    // create an offer to the peer via the backend\n    socketRef.current.emit(\"offer\", { userToSignal, callerID, data });\n  });\n\n  return peer;\n}\n\n// called when person in the call makes a peer connection with the \"joiner\"\nexport function addPeer(incomingSignal, callerID, stream, socketRef) {\n  const peer = new Peer({\n    initiator: false, // person who is already in the call is not the initiator\n    trickle: false,\n    // stream,\n  });\n\n  try {\n    stream.getTracks().forEach((track) => peer.addTrack(track, stream));\n  } catch (error) {\n    console.log(`Error in addPeer: ${error}`);\n  }\n\n  // \"signal\" is triggered once the peer object is created\n  peer.on(\"signal\", (data) => {\n    // accept the offer via the backend\n    socketRef.current.emit(\"answer\", { data, callerID });\n  });\n\n  // establish connection\n  peer.signal(incomingSignal);\n\n  return peer;\n}\n","import React from \"react\";\nimport { useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\nimport StopScreenShareIcon from \"@material-ui/icons/StopScreenShare\";\nimport SpeakerNotesIcon from \"@material-ui/icons/SpeakerNotes\";\nimport SpeakerNotesOffIcon from '@material-ui/icons/SpeakerNotesOff';\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"absolute\",\n    bottom: 0,\n    width: \"100%\",\n    backgroundColor: \"#202124\",\n  },\n});\n\nconst Menubar = ({\n  audio,\n  video,\n  screenShare,\n  showChat,\n  setAudio,\n  setVideo,\n  setScreenShare,\n  setShowChat,\n  leaveRoom,\n  peersRef,\n  userStream,\n}) => {\n  const screenTrackRef = useRef();\n  const classes = useStyles();\n\n  return (\n    <BottomNavigation showLabels className={classes.root}>\n      <BottomNavigationAction\n        onClick={() => toggleAudio(audio, setAudio)}\n        label={\n          audio.isMuted ? (\n            <span style={{ color: \"white\" }}>Turn on microphone</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Turn off microphone</span>\n          )\n        }\n        icon={\n          audio.isMuted ? (\n            <MicOffIcon color=\"secondary\" />\n          ) : (\n            <MicIcon style={{ color: \"white\" }} />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() => toggleVideo(video, setVideo)}\n        label={\n          video.isOn ? (\n            <span style={{ color: \"white\" }}>Turn off camera</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Turn on camera</span>\n          )\n        }\n        icon={\n          video.isOn ? (\n            <VideocamIcon style={{ color: \"white\" }} />\n          ) : (\n            <VideocamOffIcon color=\"secondary\" />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() =>\n          shareScreen(\n            video,\n            userStream,\n            peersRef,\n            screenShare,\n            setScreenShare,\n            screenTrackRef\n          )\n        }\n        label={\n          screenShare ? (\n            <span style={{ color: \"white\" }}>Stop presenting</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Present now</span>\n          )\n        }\n        icon={\n          screenShare ? (\n            <StopScreenShareIcon color=\"secondary\" />\n          ) : (\n            <ScreenShareIcon style={{ color: \"white\" }} />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() => (showChat ? setShowChat(false) : setShowChat(true))}\n        label={\n          showChat ? (\n            <span style={{ color: \"white\" }}>Hide Chat</span>\n          ) : (\n            <span style={{ color: \"white\" }}>Show Chat</span>\n          )\n        }\n        icon={\n          showChat ? (\n            <SpeakerNotesIcon style={{ color: \"yellow\" }} />\n          ) : (\n            <SpeakerNotesOffIcon style={{ color: \"white\" }} />\n          )\n        }\n      />\n      <BottomNavigationAction\n        onClick={() => leaveRoom()}\n        label={<span style={{ color: \"white\" }}>Leave call</span>}\n        icon={<CallEndIcon color=\"secondary\" />}\n      />\n    </BottomNavigation>\n  );\n};\n\nfunction clone(obj) {\n  if (null == obj || \"object\" != typeof obj) return obj;\n  let copy = obj.constructor();\n  for (let attr in obj) {\n    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n  }\n  return copy;\n}\n\nfunction toggleAudio(audio, setAudio) {\n  if (audio && audio.audioTracks) {\n    audio.audioTracks.forEach((track) => (track.enabled = !track.enabled));\n    audio.isMuted = !audio.isMuted;\n    const newAudio = clone(audio);\n    setAudio(newAudio);\n  }\n}\n\nfunction toggleVideo(video, setVideo) {\n  if (video && video.videoTracks) {\n    video.videoTracks.forEach((track) => (track.enabled = !track.enabled));\n    video.isOn = !video.isOn;\n    const newVideo = clone(video);\n    setVideo(newVideo);\n  }\n}\n\nasync function shareScreen(\n  video,\n  userStream,\n  peersRef,\n  screenShare,\n  setScreenShare,\n  screenTrackRef\n) {\n  try {\n    console.log(screenTrackRef.current);\n    if (!screenShare) {\n      const stream = await navigator.mediaDevices.getDisplayMedia({\n        cursor: true,\n      });\n      screenTrackRef.current = stream.getTracks()[0];\n      peersRef.current.forEach((p) => {\n        p.peer.replaceTrack(\n          video.videoTracks[0],\n          screenTrackRef.current,\n          userStream.current\n        );\n      });\n      setScreenShare(true);\n      screenTrackRef.current.onended = () => {\n        peersRef.current.forEach((p) => {\n          p.peer.replaceTrack(\n            screenTrackRef.current,\n            video.videoTracks[0],\n            userStream.current\n          );\n        });\n      };\n    } else if (screenTrackRef.current) {\n      console.log(\"RAN\");\n      screenTrackRef.current.stop();\n      setScreenShare(false);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport default Menubar;\n","// built in react\nimport { useEffect, useRef, useState } from \"react\";\n\n// external packages\nimport io from \"socket.io-client\";\nimport styled from \"styled-components\";\nimport GridList from \"@material-ui/core/GridList\";\nimport GridListTile from \"@material-ui/core/GridListTile\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// internal components\nimport { createPeer, addPeer } from \"./Peer\";\nimport { addUser } from \"./CreateUser\";\nimport { sendChatMsg, getChatMsgs } from \"./CreateChat\";\nimport Menubar from \"./Menubar\";\nimport \"./Room.css\";\n\nconst DOMPurify = require(\"dompurify\")(window);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    overflow: \"hidden\",\n    backgroundColor: \"#202124\",\n  },\n  gridList: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    padding: 0,\n    flexWrap: \"wrap\",\n    listStyle: \"none\",\n    overflow: \"auto\",\n    justifyContent: \"center\",\n  },\n  snackRoot: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst Container = styled.div`\n  position: absolute;\n  top: 10px;\n  bottom: 10px;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  background-color: #202124;\n`;\n\nconst StyledVideo = styled.video`\n  position: absolute;\n  right: 1%;\n  bottom: 5%;\n  height: 16%;\n  width: 20%;\n  z-index: 1;\n`;\n\nconst constraints = {\n  audio: { echoCancellation: true },\n  video: {\n    width: { min: 1280 },\n    height: { min: 720 },\n  },\n};\n\nconst Video = (props) => {\n  const ref = useRef();\n  useEffect(() => {\n    props.peer.on(\"stream\", (stream) => {\n      ref.current.srcObject = stream;\n    });\n  }, [props.peer]);\n  return (\n    <video\n      height=\"100%\"\n      width=\"100%\"\n      playsInline\n      autoPlay\n      controls\n      ref={ref}\n      style={{\n        padding: 0,\n        objectFit: \"cover\",\n        position: \"absolute\",\n        right: 0,\n        bottom: 0,\n        minWidth: \"100%\",\n        minHeight: \"100%\",\n        width: \"auto\",\n        height: \"auto\",\n        backgroundSize: \"cover\",\n        overflow: \"hidden\",\n      }}\n    />\n  );\n};\n\nconst Room = (props) => {\n  const [peers, setPeers] = useState([]);\n  const [audio, setAudio] = useState({});\n  const [video, setVideo] = useState({});\n  const [height, setHeight] = useState();\n  const [msgs, setMsgs] = useState([]);\n  const [msg, setMsg] = useState(\"\");\n  const [showChat, setShowChat] = useState(false);\n  const [screenShare, setScreenShare] = useState(false);\n  const [openSnack, setOpenSnack] = useState(false);\n  const [dialog, setDialog] = useState(\"\");\n  const socketRef = useRef();\n  const userVideo = useRef();\n  const peersRef = useRef([]);\n  const userStream = useRef();\n  const msgRef = useRef();\n  const joiningSocket = useRef();\n  const { user, isAuthenticated, loginWithRedirect } = useAuth0();\n  const theme = useTheme();\n\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const roomID = props.match.params.roomID;\n\n  useEffect(() => {\n    let h = window.screen.height;\n    setHeight(h);\n    window.addEventListener(\"resize\", () => {\n      let new_h = window.screen.height;\n      setHeight(new_h);\n    });\n    socketRef.current = io.connect(\"/\");\n\n    const videoChat = async () => {\n      /*****  add a try-catch here to check whether user has given the permission. ****/\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      userStream.current = stream;\n      userVideo.current.srcObject = stream;\n      setAudio({ isMuted: false, audioTracks: stream.getAudioTracks() });\n      setVideo({ isOn: true, videoTracks: stream.getVideoTracks() });\n\n      socketRef.current.emit(\"join-room\", {\n        roomID: roomID,\n        email: user.email,\n      });\n\n      socketRef.current.on(\"all-users\", (users) => {\n        const peers = [];\n        users.forEach((peerUserID) => {\n          const peer = createPeer(\n            peerUserID,\n            socketRef.current.id,\n            stream,\n            socketRef\n          );\n\n          peersRef.current.push({\n            peerID: peerUserID,\n            peer,\n          });\n          peers.push({\n            peerID: peerUserID,\n            peer,\n          });\n        });\n        setPeers([...peersRef.current]);\n      });\n\n      socketRef.current.on(\"user-joined\", (payload) => {\n        const peer = addPeer(payload.data, payload.callerID, stream, socketRef);\n\n        peersRef.current.push({\n          peerID: payload.callerID,\n          peer,\n        });\n        setPeers([...peersRef.current]);\n      });\n\n      socketRef.current.on(\"receiving-answer\", (payload) => {\n        const item = peersRef.current.find((p) => p.peerID === payload.id);\n        item.peer.signal(payload.data);\n        addUser(user, roomID);\n      });\n\n      socketRef.current.on(\"user-left\", (id) => {\n        const peerLeft = peersRef.current.find((p) => p.peerID === id);\n        if (peerLeft) {\n          peerLeft.peer.destroy();\n        }\n        const newPeers = peersRef.current.filter((p) => p.peerID !== id);\n        peersRef.current = newPeers;\n        setPeers(newPeers);\n      });\n\n      socketRef.current.on(\"reload_msgs\", (id) => {\n        fetchChatMsgs();\n      });\n    };\n\n    const admitDeny = async () => {\n      socketRef.current.emit(\"permission\", {\n        userName: user.name || user.email,\n        roomID: roomID,\n        email: user.email,\n      });\n\n      socketRef.current.on(\"no permit required\", async () => {\n        try {\n          await videoChat();\n          await fetchChatMsgs();\n        } catch (error) {\n          // \"check your connection and try again\";\n        }\n      });\n\n      socketRef.current.on(\"permit?\", (payload) => {\n        // console.log(\"payload: \", payload);\n        const userAlias = payload.userAlias;\n        const socketid = payload.id;\n        joiningSocket.current = socketid; // this is a ref\n        setDialog(`1 ${userAlias}`);\n        // identify popup using popup[0] = 1\n      });\n\n      socketRef.current.on(\"denied\", () => {\n        setDialog(\"denied to join\");\n        // redirect to home page\n      });\n\n      socketRef.current.on(\"allowed\", async (chatId) => {\n        // allowed in the call\n        try {\n          await videoChat();\n          await fetchChatMsgs();\n        } catch (error) {\n          // \"check your connection and try again\";\n        }\n      });\n    };\n\n    if (isAuthenticated) {\n      admitDeny();\n    } else loginWithRedirect();\n    // console.log(msgs);\n  }, [isAuthenticated, loginWithRedirect, roomID, user]);\n\n  const leaveRoom = () => {\n    userVideo.current.srcObject.getTracks().forEach((track) => track.stop());\n    peersRef.current = null;\n    setPeers(peersRef.current);\n    socketRef.current.disconnect();\n    props.history.push(`/`);\n  };\n\n  const calcRows = (count) => {\n    if (count <= 2) return 30;\n    if (count <= 6) return 15;\n    if (count <= 9) return 10;\n    if (count <= 16) return 7;\n  };\n\n  const calcCols = (count) => {\n    if (count === 1) return 60;\n    if (count <= 4) return 30;\n    if (count <= 9) return 20;\n    if (count <= 16) return 15;\n  };\n\n  const fetchChatMsgs = async () => {\n    const latestMsgs = await getChatMsgs(user, roomID);\n    // console.log(`Latest Messages: ${latestMsgs}`);\n    // console.log(latestMsgs);\n    if (latestMsgs && typeof latestMsgs[Symbol.iterator] === \"function\") {\n      // console.log(\"setting latestMsgs\");\n      setMsgs([...latestMsgs]);\n    }\n    // console.log(msgs);\n  };\n\n  const getTime = (timeStr) => {\n    return timeStr.substring(11, 19);\n  };\n\n  const getInitials = (sender) => {\n    let ans = \"\";\n    if (sender.first_name) ans += sender.first_name.substr(0, 1).toUpperCase();\n    if (sender.last_name) ans += sender.last_name.substr(0, 1).toUpperCase();\n    return ans;\n  };\n\n  const sendMsg = async () => {\n    if (msg.length === 0) setOpenSnack(true);\n    else {\n      await sendChatMsg(user, msg, roomID);\n      // const response = await sendChatMsg(user, msg, roomID);\n      socketRef.current.emit(\"reload\");\n      setMsg(\"\");\n      // console.log(response);\n      fetchChatMsgs();\n    }\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Container>\n      <StyledVideo controls muted ref={userVideo} autoPlay playsInline />\n      <div className={classes.root}>\n        <GridList\n          cellHeight={Math.floor(height / 35)}\n          cols={60}\n          className={classes.gridList}\n        >\n          {peers.map((peer) => (\n            <GridListTile\n              rows={calcRows(peers.length)}\n              cols={calcCols(peers.length)}\n              key={peer.peerID}\n            >\n              <Video peer={peer.peer} />\n            </GridListTile>\n          ))}\n        </GridList>\n      </div>\n\n      <div\n        style={{ position: \"absolute\", height: \"100%\", width: \"100%\", top: 0 }}\n      >\n        <div className=\"flex justify-between\" style={{ minHeight: \"95%\" }}>\n          {/* Video stream section */}\n          <section className=\"flex\">\n            {/* Messages sidebar */}\n            <div\n              id=\"chat-div\"\n              className={\n                (showChat ? \"\" : \"hidden\") +\n                \" bg-gray-100 text-gray-700 sm:max-w-sm p-4 border-t border-b-4 border-gray-300 flex flex-col justify-between\"\n              }\n            >\n              <div>\n                <div className=\"flex justify-between items-center\">\n                  <h1 className=\"font-semibold\">Meeting chat</h1>\n                </div>\n\n                <div className=\"py-3 flex justify-center items-center space-x-4 text-sm\">\n                  <svg\n                    className=\"w-6 h-6 text-indigo-500\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                    ></path>\n                  </svg>\n\n                  <h2 className=\"font-semibold\">Meeting started</h2>\n                  {/* <span className=\"text-xs\">10:12</span> */}\n                </div>\n\n                {/* Div for messages */}\n                <div\n                  style={{ maxHeight: 23.2 + \"rem\" }}\n                  className=\"text-sm mt-4 space-y-4 overflow-scroll scrollbar-hidden\"\n                >\n                  {/* Individual message */}\n                  {msgs.map((msg) => (\n                    <div className=\"flex\" key={parseInt(msg.id)}>\n                      <span className=\"bg-indigo-900 text-gray-300 h-8 w-10 p-2 rounded-full flex items-center justify-center mt-2 z-10\">\n                        {getInitials(msg.sender)}\n                      </span>\n                      <div className=\"-ml-2 py-2 px-4 bg-gray-200 rounded\">\n                        <div className=\"flex justify-between items-center\">\n                          <h1 className=\"font-semibold text-gray-800\">\n                            {msg.sender.first_name || msg.sender.username}\n                          </h1>\n                          <span className=\"text-xs\">\n                            {getTime(msg.created)}\n                          </span>\n                        </div>\n                        <p\n                          dangerouslySetInnerHTML={{\n                            __html: DOMPurify.sanitize(msg.text),\n                          }}\n                        ></p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"flex mt-10\">\n                <input\n                  type=\"text\"\n                  className=\"p-3 bg-transparent border border-r-0 border-gray-400 text-sm outline-none rounded-tl rounded-bl w-full tracking-wide\"\n                  placeholder=\"Type a new message\"\n                  value={msg}\n                  ref={msgRef}\n                  onChange={(e) => setMsg(e.target.value)}\n                />\n                <button\n                  className=\"p-2 bg-blue-800 text-gray-200 rounded-tr rounded-br\"\n                  onClick={(e) => sendMsg(e)}\n                >\n                  <svg\n                    className=\"w-5 h-5\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\"\n                    ></path>\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n\n      <Menubar\n        audio={audio}\n        video={video}\n        screenShare={screenShare}\n        showChat={showChat}\n        setAudio={setAudio}\n        setVideo={setVideo}\n        setScreenShare={setScreenShare}\n        setShowChat={setShowChat}\n        leaveRoom={leaveRoom}\n        peersRef={peersRef}\n        userStream={userStream}\n      />\n\n      {dialog[0] === '1' && (\n        <div>\n          <Dialog\n            fullScreen={fullScreen}\n            open={true}\n            onClose={() => {\n              socketRef.current.emit(\"permit status\", {\n                allowed: false,\n                id: joiningSocket.current,\n              });\n              setDialog(\"\");\n            }}\n            aria-labelledby=\"responsive-dialog-title\"\n          >\n            <DialogTitle id=\"responsive-dialog-title\">\n              {\"Someone wants to join this meeting\"}\n            </DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                {`Hey, ${dialog.substr(2)} wants to join the call.`}\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                autoFocus\n                onClick={() => {\n                  socketRef.current.emit(\"permit status\", {\n                    allowed: false,\n                    id: joiningSocket.current,\n                  });\n                  setDialog(\"\");\n                }}\n                color=\"primary\"\n              >\n                Deny Entry\n              </Button>\n              <Button\n                onClick={() => {\n                  socketRef.current.emit(\"permit status\", {\n                    allowed: true,\n                    id: joiningSocket.current,\n                  });\n                  setDialog(\"\");\n                }}\n                color=\"primary\"\n                autoFocus\n              >\n                Admit\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      )}\n\n      {dialog === \"denied to join\" && (\n        <div>\n          <Dialog\n            fullScreen={fullScreen}\n            open={true}\n            onClose={() => {\n              setDialog(\"\");\n              // redirection to home page on Close\n              window.location.href = window.location.origin;\n            }}\n            aria-labelledby=\"responsive-dialog-title\"\n          >\n            <DialogTitle id=\"responsive-dialog-title\">\n              {\"Permission Denied\"}\n            </DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                {\"You are not allowed to join this call. Kindly contact the organizer for the permission.\"}\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                autoFocus\n                onClick={() => {\n                  setDialog(\"\");\n                  // redirection to home page on Close\n                  window.location.href = window.location.origin;\n                }}\n                color=\"primary\"\n              >\n                Ok\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      )}\n      <div className={classes.snackRoot}>\n      <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }} open={openSnack} autoHideDuration={6000} onClose={() => setOpenSnack(false)}>\n        <Alert onClose={() => setOpenSnack(false)} severity=\"error\">\n          The message cannot be empty!\n        </Alert>\n      </Snackbar>\n    </div>\n    </Container>\n  );\n};\n\nexport default Room;\n","import { useState, useEffect, useRef } from \"react\";\n\nimport axios from \"axios\";\nimport { ChatEngine } from \"react-chat-engine\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nconst Chat = (props) => {\n  const [allSet, setAllSet] = useState(false);\n  const chatEngRef = useRef();\n  const classes = useStyles();\n\n  \n  useEffect(() => {\n    const setKeys = async () => {\n      try {\n        const config = {\n          method: \"post\",\n          url: \"/fetch_keys\",\n        };\n        const response = await axios(config);\n        chatEngRef.current = {};\n        chatEngRef.current[\"projectID\"] = response.data.projectID;\n        chatEngRef.current[\"userName\"] = props.location.state.username;\n        chatEngRef.current[\"userSecret\"] = response.data.userSecret;\n        if (\n          chatEngRef.current[\"projectID\"] &&\n          chatEngRef.current[\"userName\"] &&\n          chatEngRef.current[\"userSecret\"]\n        )\n          setAllSet(true);\n        console.log(allSet);\n      } catch (error) {\n        console.log(error);\n        props.history.push(`/`);\n      }\n    };\n    setKeys();\n  }, [allSet, props.history, props.location.state.username]);\n\n  return (\n    <>\n      {allSet ? (\n        <ChatEngine\n          height=\"100vh\"\n          projectID={chatEngRef.current[\"projectID\"]}\n          userName={chatEngRef.current[\"userName\"]}\n          userSecret={chatEngRef.current[\"userSecret\"]}\n        />\n      ) : (\n        <Backdrop className={classes.backdrop} open={true}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      )}\n    </>\n  );\n};\n\nexport default Chat;\n","import axios from \"axios\";\nimport React from \"react\";\n\nconst CreateUser = () => {\n  const createUser = async () => {\n    try {\n      /*****\n       * \"first_name\", \"last_name\", \"email\"\n       *****/\n      const data = {\n        username: \"bob_baker\",\n      };\n      const config = {\n        method: \"post\", // get or create user\n        url: \"/create_user\",\n        data: data,\n      };\n      const response = await axios(config); // send request using axios\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const createChat = async () => {\n    try {\n      /*****\n       * \"title\", \"admin_username\"\n       *****/\n      const data = {\n        title: \"Baker's Chat\",\n        admin_username: \"bob_baker\",\n      };\n      const config = {\n        method: \"post\", // get or create user\n        url: \"/create_chat\",\n        data: data,\n      };\n      const response = await axios(config); // send request using axios\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const addUser = async () => {\n    try {\n      /*****\n       * username, (id in backend)\n      *****/\n      const data = {\n        username: \"bob_baker\",\n      };\n      const config = {\n        method: \"post\",\n        url: \"/add_user\",\n        data: data,\n      };\n      const response = await axios(config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getChatMsgs = async () => {\n    try {\n      /*****\n       * username, (id in backend)\n      *****/\n      const data = {\n        username: \"Saket\",\n      };\n      const config = {\n        method: \"post\",\n        url: \"/get_chat_msgs\",\n        data: data,\n      };\n      const response = await axios(config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const sendChatMsg = async () => {\n    try {\n      /*****\n       * username, (id in backend)\n      *****/\n      const data = {\n        username: \"Saket\",\n        data: {\n          \"text\": \"Hello World\",\n          \"custom_json\": {\"gif\": \"https://giphy.com/clips/ufc-4eZuG5kNYvDrGc6gYk\"}\n        }\n      };\n      const config = {\n        method: \"post\",\n        url: \"/post_chat_msg\",\n        data: data,\n      };\n      const response = await axios(config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      <button onClick={createUser}>Create User</button>\n      <br />\n      <button onClick={() => createChat()}>Create Chat</button>\n      <br />\n      <button onClick={() => addUser()}>Add User</button>\n      <br />\n      <button onClick={() => getChatMsgs()}>Get Chat</button>\n      <br />\n      <button onClick={() => sendChatMsg()}>Send Chat Msg</button>\n    </>\n  );\n};\n\nexport default CreateUser;\n","// Built-in react\nimport React from \"react\";\n\n// external packages\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\n// custom components\nimport CreateRoom from \"./components/CreateRoom\";\nimport Room from \"./components/Room\";\nimport Chat from \"./components/Chat\";\nimport CreateUser from \"./components/UserTest\";\n\nfunction App() {  \n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/room/:roomID\" component={Room} />\n        <Route path=\"/chat\" component={Chat} />\n        <Route path=\"/create\" component={CreateUser} />\n        <Route path=\"/\" component={CreateRoom} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport '@fontsource/roboto';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\n  ReactDOM.render(\n    <Auth0Provider\n      domain=\"dev-h72otjre.us.auth0.com\"\n      clientId=\"uepAKWqvGUsJyYEVE10EjqeTJ2MUSAXz\"\n      redirectUri={window.location.origin}\n    >\n      <App />\n    </Auth0Provider>,\n    document.getElementById(\"root\")\n  );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}